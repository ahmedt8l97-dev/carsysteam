# ๐ ุฏููู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงูุชููุงุฆูุฉ

## โจ ุงููููุฒุงุช

- โ **ูุณุฎ ุงุญุชูุงุทูุฉ ููููุฉ** - ูู ููู ุงูุณุงุนุฉ 2 ุตุจุงุญุงู
- โ **ูุณุฎ ุงุญุชูุงุทูุฉ ุฃุณุจูุนูุฉ** - ูู ุฌูุนุฉ ุงูุณุงุนุฉ 3 ุตุจุงุญุงู
- โ **JSON ูุฑุชุจ ูููุณู** - ุณูู ุงููุฑุงุกุฉ ูุงูุชุนุฏูู
- โ **ุฅุญุตุงุฆูุงุช ุดุงููุฉ** - ูููุ ุฃููุงุนุ ููุงูุน
- โ **ุฅุฑุณุงู ููุชููุฌุฑุงู** - ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุณุญุงุจูุฉ
- โ **ุชูุธูู ุชููุงุฆู** - ุญุฐู ุงููุณุฎ ุงูุฃูุฏู ูู 30 ููู

---

## ๐ ุฃููุงุน ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

### 1. ูุณุฎุฉ ููููุฉ (Daily)
- **ุงูุชูููุช**: ูู ููู ุงูุณุงุนุฉ 2:00 ุตุจุงุญุงู
- **ุงูุงุณู**: `backup_daily_YYYYMMDD_HHMMSS.json`
- **ุงูุบุฑุถ**: ุญูุงูุฉ ููููุฉ ูู ููุฏุงู ุงูุจูุงูุงุช

### 2. ูุณุฎุฉ ุฃุณุจูุนูุฉ (Weekly)
- **ุงูุชูููุช**: ูู ููู ุฌูุนุฉ ุงูุณุงุนุฉ 3:00 ุตุจุงุญุงู
- **ุงูุงุณู**: `backup_weekly_YYYYMMDD_HHMMSS.json`
- **ุงูุบุฑุถ**: ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุดุงููุฉ + ุชูุธูู ุงููุณุฎ ุงููุฏููุฉ

### 3. ูุณุฎุฉ ูุฏููุฉ (Manual)
- **ุงูุชูููุช**: ุนูุฏ ุงูุทูุจ ูู ุงููููุน
- **ุงูุงุณู**: `backup_manual_YYYYMMDD_HHMMSS.json`
- **ุงูุบุฑุถ**: ูุณุฎุฉ ุงุญุชูุงุทูุฉ ููุฑูุฉ

---

## ๐ ูููู ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ

```json
{
  "backup_info": {
    "version": "5.0.0",
    "backup_type": "daily",
    "backup_date": "2024-01-15T02:00:00",
    "total_products": 150,
    "created_by": "Auto Backup System"
  },
  "statistics": {
    "total_value": 5000000,
    "total_wholesale_value": 4500000,
    "products_by_type": {
      "ูุญุฑู": 25,
      "ููุชุฑ": 40,
      "ุฅุทุงุฑ": 30,
      "ููุฑุจุงุก": 20,
      "ุฃุฎุฑู": 35
    }
  },
  "products": {
    "P001": {
      "product_number": "P001",
      "product_name": "ููุชุฑ ุฒูุช",
      "car_name": "ุชูููุชุง ูุงูุฑู",
      "model_number": "2020-2023",
      "type": "ููุชุฑ",
      "price_iqd": 50000,
      "wholesale_price_iqd": 45000,
      "location": "ุงููุฎุฒู ุงูุฑุฆูุณู",
      "image": "https://i.ibb.co/xxx/image.jpg",
      "last_update": "2024-01-15T01:30:00"
    }
  }
}
```

---

## ๐ ููู ูุนูู ุงููุธุงูุ

### ุนูุฏ ุจุฏุก ุงูุณูุฑูุฑ:
1. ูุจุฏุฃ ุฌุฏููุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงูุชููุงุฆูุฉ
2. ููุญุต ูู ุณุงุนุฉ ุฅุฐุง ุญุงู ููุช ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
3. ูุนูู ูู ุงูุฎูููุฉ ุจุฏูู ุชุฃุซูุฑ ุนูู ุงูุฃุฏุงุก

### ุนูุฏ ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ:
1. **ุฌูุน ุงูุจูุงูุงุช** ูู ุงููุงุด ุงููุญูู
2. **ุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช** (ูููุ ุฃููุงุนุ ุฅูุฎ)
3. **ุชุฑุชูุจ JSON** ุจุดูู ููุณู
4. **ุญูุธ ุงูููู** ูู ูุฌูุฏ `backups/`
5. **ุฅุฑุณุงู ููุชููุฌุฑุงู** (ุฑุณุงูุฉ + ููู)

### ุงูุชูุธูู ุงูุชููุงุฆู:
- ูุญุฏุซ ูุน ุงููุณุฎุฉ ุงูุฃุณุจูุนูุฉ
- ูุญุฐู ุงููุณุฎ ุงูุฃูุฏู ูู 30 ููู
- ูุญุงูุธ ุนูู ูุณุงุญุฉ ุงููุฑุต

---

## ๐ป ุงุณุชุฎุฏุงู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

### ูู ุงููููุน:

1. ุงุฐูุจ ูุชุจููุจ "ุงููุณุฎ ุงูุงุญุชูุงุทู"
2. ุงุถุบุท "ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุงูุขู"
3. ุณูุชู ุฅูุดุงุก ุงููุณุฎุฉ ูุฅุฑุณุงููุง ููุชููุฌุฑุงู

### ูู ุงูุชููุฌุฑุงู:

- ุณุชุตูู ุฑุณุงูุฉ ูุน ูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ
- ุงูููู ูุฑูู ูุน ุงูุฑุณุงูุฉ
- ููููู ุชุญูููู ูุญูุธู

### ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช:

1. ุงูุชุญ ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
2. ุงุฐูุจ ูุชุจููุจ "ุงููุณุฎ ุงูุงุญุชูุงุทู" ูู ุงููููุน
3. ุงุถุบุท "ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช"
4. ุงุฎุชุฑ ุงูููู
5. ุงููุธุงู ุณูุณุชูุฑุฏ ุงูุจูุงูุงุช ุจุฐูุงุก

---

## ๐ ููุงู ุงููููุงุช

```
car-stock-system/
โโโ backend/
โ   โโโ backups/                    โ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ููุง
โ   โ   โโโ backup_daily_20240115_020000.json
โ   โ   โโโ backup_weekly_20240112_030000.json
โ   โ   โโโ backup_manual_20240114_153000.json
โ   โโโ telegram_cache.json         โ ุงููุงุด ุงููุญูู
โ   โโโ main.py
```

---

## โ๏ธ ุชุฎุตูุต ุงูุฅุนุฏุงุฏุงุช

### ุชุบููุฑ ุชูููุช ุงููุณุฎ ุงูููููุฉ:

ูู `main.py`ุ ุงุจุญุซ ุนู:
```python
if last_daily_backup != now.date() and now.hour == 2:
```

ุบูุฑ `2` ุฅูู ุงูุณุงุนุฉ ุงููุทููุจุฉ (0-23)

### ุชุบููุฑ ููู ุงููุณุฎุฉ ุงูุฃุณุจูุนูุฉ:

```python
if last_weekly_backup != week_num and now.weekday() == 4 and now.hour == 3:
```

- `weekday() == 4` โ ุงูุฌูุนุฉ (0=ุงูุงุซูููุ 6=ุงูุฃุญุฏ)
- `hour == 3` โ ุงูุณุงุนุฉ 3 ุตุจุงุญุงู

### ุชุบููุฑ ูุฏุฉ ุญูุธ ุงููุณุฎ:

```python
cleanup_old_backups(30)  # 30 ููู
```

ุบูุฑ `30` ุฅูู ุนุฏุฏ ุงูุฃูุงู ุงููุทููุจ

---

## ๐ ูุฑุงูุจุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

### ูู ุงูุณูุฑูุฑ:

ุฑุงูุจ console ุงูุณูุฑูุฑุ ุณุชุธูุฑ ุฑุณุงุฆู:
```
Daily backup created: 2024-01-15 02:00:00
Weekly backup created: 2024-01-12 03:00:00
Deleted old backup: backup_daily_20231215_020000.json
```

### ูู ุงูุชููุฌุฑุงู:

- ุณุชุตูู ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ
- ูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุน ููููุง

### ูู API:

```bash
curl http://localhost:8000/backups/list
```

ุณูุนุฑุถ ูุงุฆูุฉ ุจุฌููุน ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

---

## โ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ูุง ุชููุดุฃ:

- โ ุชุฃูุฏ ุฃู ุงูุณูุฑูุฑ ูุนูู 24/7
- โ ุฑุงูุจ console ููุฃุฎุทุงุก
- โ ุชุฃูุฏ ูู ุตูุงุญูุงุช ุงููุชุงุจุฉ ุนูู ูุฌูุฏ `backups/`

### ูุง ุชุตู ุฅุดุนุงุฑุงุช ุงูุชููุฌุฑุงู:

- โ ุชุฃูุฏ ูู ุฅุนุฏุงุฏ ุงูุชููุฌุฑุงู ุตุญูุญ
- โ ุงูุญุต `/health` endpoint
- โ ุชุฃูุฏ ูู ุงุชุตุงู ุงูุฅูุชุฑูุช

### ูุฌูุฏ backups ููุชูุฆ:

- โ ุงููุธุงู ููุธู ุชููุงุฆูุงู ูู ุฃุณุจูุน
- โ ููููู ุญุฐู ุงููุณุฎ ุงููุฏููุฉ ูุฏููุงู
- โ ุบูุฑ ูุฏุฉ ุงูุญูุธ ุฅูู ุฃูู ูู 30 ููู

---

## ๐ก ูุตุงุฆุญ

1. **ุงุชุฑู ุงูุณูุฑูุฑ ูุนูู** - ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุชุญุชุงุฌ ุณูุฑูุฑ ูุดุท
2. **ุฑุงูุจ ุงูุชููุฌุฑุงู** - ุณุชุนุฑู ุฅุฐุง ูุดูุช ูุณุฎุฉ ุงุญุชูุงุทูุฉ
3. **ุงุญูุธ ุงููุณุฎ ุงููููุฉ** - ุญููู ุงููุณุฎ ุงูุฃุณุจูุนูุฉ ูุฎุฒููุง ุฎุงุฑุฌูุงู
4. **ุงุฎุชุจุฑ ุงูุงุณุชุนุงุฏุฉ** - ุฌุฑุจ ุงุณุชูุฑุงุฏ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ููุชุฃูุฏ

---

## ๐ ุงูุฎูุงุตุฉ

ุงููุธุงู ุงูุขู ูุญูู ุจูุงูุงุชู ุชููุงุฆูุงู:
- ๐ ูุณุฎุฉ ููููุฉ
- ๐ ูุณุฎุฉ ุฃุณุจูุนูุฉ
- ๐ฌ ุฅุฑุณุงู ููุชููุฌุฑุงู
- ๐๏ธ ุชูุธูู ุชููุงุฆู
- ๐ JSON ูุฑุชุจ ูููุณู

**ุจูุงูุงุชู ุขููุฉ!** โจ
